@{
    Layout = "~/Views/Shared/_AdminLayout1.cshtml";
}
@{
    ViewData["Title"] = "Admin: Product";
}
@model WebApplication7.ViewModels.ProductsListViewModel
    <section class="content">
        <nav aria-label="Page navigation example">

            <ul class="pagination ">
                <li class="page-item @(!Model.PagingInfo.ShowFirst? "disabled":"")">
                    <a asp-route-page="1" asp-route-table="Product" class="page-link"><i class="fas fa-fast-backward"></i></a>
                </li>

                <li class="page-item @(!Model.PagingInfo.ShowPrevious? "disabled":"")">
                    <a asp-route-page="@(Model.PagingInfo.CurrentPage -1)" asp-route-table="Product" class="page-link"><i class="fas fa-step-backward"></i></a>
                </li>
                <li class="page-item  @(!Model.PagingInfo.ShowNext? "disabled":"")">
                    <a asp-route-page="@(Model.PagingInfo.CurrentPage +1)" asp-route-table="Product" class="page-link"><i class="fas fa-step-forward"></i></a>
                </li>

                <li class="page-item  @(!Model.PagingInfo.ShowLast? "disabled":"")">
                    <a asp-route-page="@Model.PagingInfo.TotalPages" asp-route-table="Product" class="page-link"><i class="fas fa-fast-forward"></i></a>
                </li>
            </ul>
        </nav>
        <div class="row mr-0">
            <div class="col-12">
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">Product Table <span><a asp-action="Create" asp-controller="Admin" asp-route-table="Product">Create Product</a></span></h3>
                    </div>
                    <!-- /.card-header -->
                    <div class="card-body">
                        <table id="example2" class="table table-bordered table-hover">
                            <thead>
                                <tr>
                                    <th>Id</th>
                                    <th>Name</th>
                                    <th>Seasone</th>
                                    <th>Colore</th>
                                    <th>Material</th>
                                    <th>Brand</th>
                                    <th>Category</th>
                                    <th>Price</th>
                                    <th>Description</th>
                                    <th>Image</th>
                                    <th>ImageMimeType</th>
                                    <th></th>
                                </tr>
                            </thead>
                            <tbody>
                                @foreach (var item in Model.products)
                                {
                                    <tr>
                                        <td>@item.Id</td>
                                        <td>@item.Name</td>
                                        <td>@item.NameSezone</td>
                                        <td>@item.NameColore</td>
                                        <td>@item.NameMaterial</td>
                                        <td>@item.NameBrand</td>
                                        <td>@item.Category</td>
                                        <td>@item.Price</td>
                                        <td>@item.Description</td>
                                        <td>
                                            @if (item.ImageData != null)
                                            {
                                                <img src="data:@(item.ImageData);base64,@(Convert.ToBase64String(item.ImageData))" class="img-fluid mb-2" />
                                            }
                                            else
                                            {
                                                <img src="" class="img-fluid mb-2" />
                                            }
                                        </td>
                                        <td>@item.ImageMimeType</td>
                                        <td>
                                            <a asp-action="Edit" asp-controller="Admin" class="text-primary" asp-route-table="Product" asp-route-id="@item.Id">Edit</a> |
                                            <a asp-action="Delete" asp-controller="Admin" class="text-primary" asp-route-table="Product" asp-route-id="@item.Id">Delete</a>
                                        </td>
                                    </tr>
                                }
                            </tbody>
                            <tfoot>
                                <tr>
                                    <th>Id</th>
                                    <th>Name</th>
                                    <th>Seasone</th>
                                    <th>Colore</th>
                                    <th>Material</th>
                                    <th>Brand</th>
                                    <th>Category</th>
                                    <th>Price</th>
                                    <th>Description</th>
                                    <th>Image</th>
                                    <th>ImageMimeType</th>
                                    <th></th>

                                </tr>
                            </tfoot>
                        </table>
                    </div>
                    <!-- /.card-body -->
                </div>
                <!-- /.card -->


            </div>
            <!-- /.card -->
        </div>
        <nav aria-label="Page navigation example">

            <ul class="pagination ">
                <li class="page-item @(!Model.PagingInfo.ShowFirst? "disabled":"")">
                    <a asp-route-page="1" asp-route-table="Product" class="page-link"><i class="fas fa-fast-backward"></i></a>
                </li>

                <li class="page-item @(!Model.PagingInfo.ShowPrevious? "disabled":"")">
                    <a asp-route-page="@(Model.PagingInfo.CurrentPage -1)" asp-route-table="Product" class="page-link"><i class="fas fa-step-backward"></i></a>
                </li>
                <li class="page-item  @(!Model.PagingInfo.ShowNext? "disabled":"")">
                    <a asp-route-page="@(Model.PagingInfo.CurrentPage +1)" asp-route-table="Product" class="page-link"><i class="fas fa-step-forward"></i></a>
                </li>

                <li class="page-item  @(!Model.PagingInfo.ShowLast? "disabled":"")">
                    <a asp-route-page="@Model.PagingInfo.TotalPages" asp-route-table="Product" class="page-link"><i class="fas fa-fast-forward"></i></a>
                </li>
            </ul>
        </nav>
        <!-- /.row -->
    </section>
